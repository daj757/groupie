<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container-fluid">

<div>
      <p>Enter artist</p>
      <input name="artist" type="text" id="artistID"/><input name="submitArtist" type="submit"  id="submitArtist" value="Enter" />
    </div>
  </div>
  <div id="artistSpace">
  </div>

 <script type="text/javascript">
 var zipCode = "";
 	var artist = "";
  var airCode = "";
 	var queryURL = "https://api.seatgeek.com/2/events?q=" + artist + "&per_page=1&client_id=MTAyMzg3N3wxNDk4MDEzODgyLjUy";

    $("#submitArtist").on("click", function(){
    	artist = $("#artistID").val().trim();
      $("#artistSpace").empty();
    // Javascript validation for search input
    
    	if(artist == '') {
    		return false
    	}

    	$.ajax({
      url: queryURL,
      method: 'GET'
    }).done(function(response) {
      console.log(response);
      var location = response.events[0].venue.city;
      var upcomingEvents = response.events[0].has_upcoming_events;
      zipCode = response.events[0].venue.postal_code;
      console.log(zipCode);
      getGif();
      airportCode();
     
      // console.log(location);
   
   
})
    });
    function getGif(){
      var queryURL = "https://api.giphy.com/v1/gifs/search?q=artist%20" + artist + "&rating=pg-13&api_key=dc6zaTOxFJmzC";
    $.ajax({
      url: queryURL,
      method: 'GET'
    }).done(function(response) {
        var newDiv = $("<div>")
        var artistGif = $("<img>");
        artistGif.addClass("artistPic");
        artistGif.attr("src", response.data[0].images.fixed_height.url);
        moveGif = response.data[0].images.fixed_height.url;
        stillGif = response.data[0].images.fixed_height_still.url;
      
        $("#artistSpace").append(newDiv);
        newDiv.append(artistGif);   
     
 });

    }
function airportCode(){
    var queryURL = "http://www.distance24.org/route.json?stops="+zipCode
    $.ajax({
        url: queryURL,
        method: "GET"
    }).done(function(response){
        console.log(response);
      airCode = response.stops[0].airports[0].iata;
      console.log(airCode);
    })
    
}


 </script>

</div>
</body>
</html>